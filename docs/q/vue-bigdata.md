# vue 渲染大量数据时应该怎么优化？

- 一次性传入大量数据
  - 架设中间层
  - SPA + SSR处理 bigpipe （服务器渲染组件总比浏览器强，毕竟那么多核的CPU也不是花瓶）
  - 可以考虑stream
  - **加载动画提升用户体验**
  - 同时避免浏览器处理大量的dom
  - 尽量不要再用 vue 的双向数据绑定了，或者只用部分页面中处理的数据
- 并非一次性传入大量数据，而只是分段加载，但次数特别多
  - 异步渲染组件
  - 使用 vue 的 v-if 最多显示上中（可视区域）下三屏 避免出现大量的dom节点
  - **使用分页**（体验可能不如上面那么好“无限加载的也要考虑 dom 过多的情况”）
  
可以使用虚拟列表，`Object.freeze` 冻结对象，`Object.preventExtentsion`阻止对象扩展来阻止 vue 给每个对象加上 get、set, 但是缺点是**不能响应**了

- **按需加载局部数据, 虚拟列表，无限下拉刷新**
- js运行异步处理:
  分割任务，实现时间切片处理, 类似 react fiber, 每次执行记录时间, 超过一定执行时间则 settimeout 或 requestAnimation 推迟到下一个时间片,一般一个时间片为16ms
- 大量纯展示的数据,不需要追踪变化的,**用 `object.freeze` 冻结**
