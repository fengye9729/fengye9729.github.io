<!DOCTYPE html>
<html lang="zh-CN">

	<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg"
    crossorigin="anonymous">
  <title>Fe</title>
  <link rel="stylesheet" href="/css/typo.css">
  <link rel="stylesheet" href="/css/fonts.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/scroll.css">
<link rel="stylesheet" href="/css/prism-base16-ateliersulphurpool.light.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
	
	<body>
		<div class="container">
			<div class="nav">
  <div class="nav-title">
    <a href="/">Fe</a>
  </div>
  <div class="nav-toggle-nav">
    <i class="fy-menu"></i>
  </div>
</div>
			<div class="left-col">
  <div class="left-col-close">
    <i class="fy-cross"></i>
  </div>

  <div class="left-col-author-profile">
    <nav class="profile">
      <a class="profile-pic"><img src="/img/xiaomai.jpg"/></a>
      <h1 class="profile-title">Fe_</h1>
      <p class="profile-subtitle">无疾而终是常态</p>
    </nav>
    <nav class="social">
      
      <a class="twitter2" target="_blank" href="#" title="twitter2">
        <i class="fy-twitter2"></i>
      </a>
      
      <a class="facebook2" target="_blank" href="#" title="facebook2">
        <i class="fy-facebook2"></i>
      </a>
      
      <a class="github" target="_blank" href="#" title="github">
        <i class="fy-github"></i>
      </a>
      
      <a class="google" target="_blank" href="#" title="google">
        <i class="fy-google"></i>
      </a>
      
      <a class="dribbble2" target="_blank" href="#" title="dribbble2">
        <i class="fy-dribbble2"></i>
      </a>
      
      <a class="instagram2" target="_blank" href="#" title="instagram2">
        <i class="fy-instagram2"></i>
      </a>
      
      <a class="zhihu" target="_blank" href="#" title="zhihu">
        <i class="fy-zhihu"></i>
      </a>
      
      <a class="segmentfault" target="_blank" href="#" title="segmentfault">
        <i class="fy-segmentfault"></i>
      </a>
      
    </nav>
    <nav class="left-col-lists">
      <ul>
        
          <li class="">
            <a href="/">首页</a>
          </li>
        
          <li class="">
            <a href="/felearning">前端学习</a>
          </li>
        
          <li class="">
            <a href="/experience">日常心得</a>
          </li>
        
          <li class="">
            <a href="/about">关于我</a>
          </li>
        
          <li class="">
            <a href="/donation">捐赠</a>
          </li>
        
      </ul>
    </nav>
  </div>

  <footer class="left-col-footer">
     Copyright © Fe . 2018 • All rights reserved.<br/>
     浙ICP备18014378号-1
  </footer>
</div>
			<!-- <div class="left-col">
  <div class="left-sidebar-nav">
    <div class="sidebar-nav-title"><a href="#">最新文章</a></div>
    <div class="sidebar-nav-search"><i class="fy-search"></i></div>
  </div>
  <div class="left-sidebar-tags">
    <h2>文章分类</h2>
    <ul class="sidebar-tags">
      <li class="tag box-tag">前端学习1</li>
      <li class="tag box-tag">前端学习2</li>
      <li class="tag box-tag">前端学习3</li>
      <li class="tag box-tag">前端学习4</li>
    </ul>
  </div>
  <div class="left-sidebar-post">
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2018/04/27/index/"></a></div>
        <div class="post-card-content-info"></div>
        <div class="post-card-content-time">2018-04-27 | 无评论</div>
      </div>
    </div>
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2017/07/04/about-es5/">ES5 Notes</a></div>
        <div class="post-card-content-info"></div>
        <div class="post-card-content-time">2017-07-04 | 无评论</div>
      </div>
    </div>
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2017/07/04/about-es6-vs-es5/">ES6 Notes</a></div>
        <div class="post-card-content-info"></div>
        <div class="post-card-content-time">2017-07-04 | 无评论</div>
      </div>
    </div>
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2018/02/05/gitlab-ci/">关于gitlab-ci自动化部署的探索</a></div>
        <div class="post-card-content-info"></div>
        <div class="post-card-content-time">2018-02-05 | 无评论</div>
      </div>
    </div>
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2018/03/08/gitlab-ci-error/">一个CSS模块导致的gitlab-ci报错</a></div>
        <div class="post-card-content-info">&lt;p&gt;项目用&lt;code&gt;gitlab-ci&lt;/code&gt;进行持续集成，遇到了一个问题至今虽已解决却仍存在一些困惑。&lt;br&gt;&lt;br&gt;</div>
        <div class="post-card-content-time">2018-03-08 | 无评论</div>
      </div>
    </div>
    
    <div class="post-card">
      <div class="post-card-content">
        <div class="post-card-content-tag">前端学习</div>
        <div class="post-card-content-title"><a class="post-title" href="/2018/03/16/闲言闲语/">闲言闲语</a></div>
        <div class="post-card-content-info"></div>
        <div class="post-card-content-time">2018-03-16 | 无评论</div>
      </div>
    </div>
    
  </div>
</div> -->
			<div class="right-col">
				<article class="article article-post">
  <div class="article-inner">
    <div class="article-header">
      <!-- <div class="article-info-tag">
        
          data
        
          length
        
          _model
        
          _schema
        
          count
        
          size
        
          forEach
        
          each
        
          toArray
        
          eq
        
          first
        
          last
        
          slice
        
          limit
        
          skip
        
          reverse
        
          shuffle
        
          random
        
          find
        
          findOne
        
          sort
        
          map
        
          reduce
        
          reduceRight
        
          filter
        
          every
        
          some
        
          update
        
          replace
        
          remove
        
          populate
        
      </div> -->
    </div>
    <div class="article-info">
      <div class="article-info-title">ES5 Notes</div>
      <div class="article-info-content"><h3 id="浅析cookie"><a href="#浅析cookie" class="headerlink" title="浅析cookie"></a>浅析cookie</h3><p><a href="http://caibaojian.com/about-cookie.html" target="_blank" rel="external">浅析cookie</a></p>
<h3 id="Array-对象常用方法"><a href="#Array-对象常用方法" class="headerlink" title="Array 对象常用方法"></a>Array 对象常用方法</h3><p><a href="http://caibaojian.com/js-array-method.html" target="_blank" rel="external">js数组</a></p>
<h4 id="不改变原数组"><a href="#不改变原数组" class="headerlink" title="不改变原数组"></a>不改变原数组</h4><ol>
<li><p>concat()<br>连接两个或多个数组<br>不改变原数组<br><strong>返回被连接数组的一个副本</strong></p>
</li>
<li><p>join()<br>把数组中所有元素放入一个字符串<br>不改变原数组<br><strong>返回字符串</strong></p>
</li>
<li><p>slice()<br>从已有的数组中返回选定的元素<br>不改变原数组<br><strong>返回一个新数组</strong></p>
</li>
<li><p>toString()<br>把数组转为字符串<br>不改变原数组<br><strong>返回数组的字符串形式</strong></p>
</li>
</ol>
<h4 id="改变原数组"><a href="#改变原数组" class="headerlink" title="改变原数组"></a>改变原数组</h4><ol>
<li><p>pop()<br>删除数组最后一个元素，如果数组为空，则不改变数组，返回undefined<br>改变原数组<br><strong>返回被删除的元素</strong></p>
</li>
<li><p>push()<br>向数组末尾添加一个或多个元素<br>改变原数组<br><strong>返回新数组的长度</strong></p>
</li>
<li><p>reverse()<br>颠倒数组中元素的顺序<br>改变原数组<br><strong>返回该数组</strong></p>
</li>
<li><p>shift()<br>把数组的第一个元素删除，若空数组，不进行任何操作，返回undefined<br>改变原数组<br><strong>返回第一个元素的值</strong></p>
</li>
<li><p>sort()<br>对数组元素进行排序(ascii)<br>改变原数组<br><strong>返回该数组</strong></p>
</li>
<li><p>splice()<br>从数组中添加/删除项目<br>改变原数组<br><strong>返回被删除的元素</strong></p>
</li>
<li><p>unshift()<br>向数组的开头添加一个或多个元素<br>改变原数组<br><strong>返回新数组的长度</strong></p>
</li>
</ol>
<h3 id="HTTP请求中的form-data和request-payload的区别"><a href="#HTTP请求中的form-data和request-payload的区别" class="headerlink" title="HTTP请求中的form data和request payload的区别"></a>HTTP请求中的form data和request payload的区别</h3><p>Query的ajax方法和post方法分别发送请求，在后台Servlet进行处理时结果是不一样的</p>
<ol>
<li><p>用$.ajax方法发送请求时（data参数是一个JSON.stringify()处理后的字符串，而不是一个JSON对象）</p>
</li>
<li><p>用$.post方法来发送请求（data参数是一个JSON对象,而不要再用JSON.stringify()处理为字符串了）</p>
</li>
<li><p>在Chrome中调试发现，$.ajax发送的请求显示在request payload下面，而使用$.post方法发送的请求显示在form data下面</p>
</li>
</ol>
<p><a href="http://www.cnblogs.com/btgyoyo/p/6141480.html" target="_blank" rel="external">form data和request payload的区别</a></p>
<p>HTTP请求中，如果是get请求，那么表单参数以name=value&amp;name1=value1的形式附到url的后面，<br>如果是post请求，那么表单参数是在请求体中，也是以name=value&amp;name1=value1的形式在请求体中</p>
<ol>
<li><p>HTTP POST表单请求提交时，使用的Content-Type是 application/x-www-form-urlencoded，</p>
</li>
<li><p>使用原生AJAX的POST请求如果不指定请求头RequestHeader，默认使用的Content-Type是 text/plain;charset=UTF-8</p>
</li>
</ol>
<p>在使用原生AJAX POST请求时，需要明确设置Request Header，即：</p>
<pre class="line-numbers language-js"><code class="language-js"> xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span><span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><a href="http://blog.csdn.net/mhmyqn/article/details/25561535" target="_blank" rel="external">form data和request payload在servlet中的获取方式</a></p>
<h3 id="javascript创建对象的几种方式"><a href="#javascript创建对象的几种方式" class="headerlink" title="javascript创建对象的几种方式"></a>javascript创建对象的几种方式</h3><h4 id="1-js对象"><a href="#1-js对象" class="headerlink" title="1. js对象"></a>1. js对象</h4><ol>
<li>内置对象<br> Object 是所有对象的父对象</li>
<li>数据封装类对象<br> Object Array Boolean String Number</li>
<li>其他对象<br> Function Arguments Math Date RegExp Error</li>
</ol>
<h4 id="2-创建对象"><a href="#2-创建对象" class="headerlink" title="2. 创建对象"></a>2. 创建对象</h4><p>1.对象字面量的方式</p>
<pre class="line-numbers language-js"><code class="language-js">person <span class="token operator">=</span> <span class="token punctuation">{</span>
    firstname<span class="token punctuation">:</span><span class="token string">"mark"</span><span class="token punctuation">,</span>
    lastname<span class="token punctuation">:</span><span class="token string">"yun"</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span><span class="token string">"23"</span><span class="token punctuation">,</span>
    eyecolor<span class="token punctuation">:</span><span class="token string">"black"</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2.用function模拟无参的构造函数</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//定义一个function，如果用new实例化，改function可以看做是一个class</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"mark"</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">"23"</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>work <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>3.用function模拟带参构造函数</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Pet</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>hobby<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hobby <span class="token operator">=</span> hobby<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>eat <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'my name is'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">',i am '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">+</span><span class="token string">' years old , i like '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> haha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pet</span><span class="token punctuation">(</span><span class="token string">'猪猪'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">"coding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
haha<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>4.用工厂方式来创建（内置对象）</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> mine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mine<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"fy"</span><span class="token punctuation">;</span>
mine<span class="token punctuation">.</span>age <span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">;</span>
mine<span class="token punctuation">.</span>work <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"coding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
mine<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>5.用原型方式创建</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
Dog<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"haha"</span><span class="token punctuation">;</span>
Dog<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>eat <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">",coding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> mine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mine<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>6.用混合方式创建</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>price<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Car<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>sell <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"我是"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">"，我现在卖"</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>price<span class="token operator">+</span><span class="token string">"万元"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> haha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">"大众"</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
haha<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>部分参考 <a href="http://yanhaijing.com/basejs/#sect_conventions" target="_blank" rel="external">javascript</a></p>
<h3 id="window对象VSdocument对象"><a href="#window对象VSdocument对象" class="headerlink" title="window对象VSdocument对象"></a>window对象VSdocument对象</h3><p>  window对象是指浏览器窗口<br>  document对象是window对象的一个属性</p>
<h3 id="如何解决跨域问题"><a href="#如何解决跨域问题" class="headerlink" title="如何解决跨域问题"></a>如何解决跨域问题</h3><p>  jsonp iframe  window.name window.postMessage 服务器上设置代理页面</p>
<h3 id="Ajax解决浏览器缓存问题"><a href="#Ajax解决浏览器缓存问题" class="headerlink" title="Ajax解决浏览器缓存问题"></a>Ajax解决浏览器缓存问题</h3><ol>
<li><p>在ajax发送请求前加上 anyAjaxObj.setRequestHeader(“If-Modified-Since”,”0”)。</p>
</li>
<li><p>在ajax发送请求前加上 anyAjaxObj.setRequestHeader(“Cache-Control”,”no-cache”)。</p>
</li>
<li><p>在URL后面加上一个随机数： “fresh=” + Math.random();。</p>
</li>
<li><p>在URL后面加上时间搓：”nowtime=” + new Date().getTime();。</p>
</li>
<li><p>如果是使用jQuery，直接这样就可以了 $.ajaxSetup({cache:false})。这样页面的所有ajax都会执行这条语句就是不需要保存缓存记录。</p>
</li>
</ol>
<h3 id="AMD-CMD"><a href="#AMD-CMD" class="headerlink" title="AMD  CMD"></a>AMD  CMD</h3><p>对于依赖的模块，AMD 是提前执行，CMD 是延迟执行。</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// 此处略去 100 行</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 依赖可以就近书写</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// AMD 默认推荐</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./a'</span><span class="token punctuation">,</span> <span class="token string">'./b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 依赖必须一开始就写好</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// 此处略去 100 行</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="javascript原型-原型链"><a href="#javascript原型-原型链" class="headerlink" title="javascript原型 原型链"></a>javascript原型 原型链</h3><p>  每个对象在其内部初始化一个属性，便是 prototype（原型）<br>当访问一个对象的属性时：如果这个对象内部不存在这个属性，那么就会去prototype里找这个属性，这个prototype又会有自己的prototype,于是一直找下去，便是原型链的概念。</p>
<p>关系： instance.constructor.prototype = instance.<strong>proto</strong></p>
<h3 id="js数据类型"><a href="#js数据类型" class="headerlink" title="js数据类型"></a>js数据类型</h3><ol>
<li>基本数据类型<br> Undefined null String Boolean Number<br> Symbol(创建后独一无二且不可变的数据类型)</li>
<li><p>js引用数据类型<br> （对象，数组，函数）</p>
</li>
<li><p>javascript的变量提升</p>
<p> javascirpt会将所有的声明提升到当前作用域的顶部。意味着可以在某个变量声明前就使用该变量。</p>
</li>
<li><p>=== 与 ==<br>=== 也就是所谓的严格比较，关键的区别在于===                         会同时<strong>比较类型与值</strong>，而不是仅比较值。</p>
</li>
<li><p>null 与 undefined 的区别</p>
<p> null意味着无值、</p>
<p> undefined代表某个变量虽然声明了但尚未赋值</p>
</li>
<li><p>数组去重</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ES6 Implementation</span>
<span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 5, 9, 8]</span>
<span class="token comment" spellcheck="true">// ES5 Implementation</span>
<span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">uniqueArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, 5, 9, 8]</span>
<span class="token keyword">function</span> <span class="token function">uniqueArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">var</span> hashmap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> unique <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true">// If key returns null (unique), it is evaluated as false.</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>hashmap<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   hashmap<span class="token punctuation">[</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   unique<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">return</span> unique<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="前端性能优化的方法"><a href="#前端性能优化的方法" class="headerlink" title="前端性能优化的方法"></a>前端性能优化的方法</h3><ol>
<li>减少http请求次数：图片压缩 data缓存 图片服务器</li>
<li>减少DOM操作次数，优化javascript性能</li>
<li>少用全局变量</li>
<li>图片预加载，将样式表放在顶部，将脚本放在底部，加上时间戳</li>
</ol>
<h3 id="浏览器滚动条"><a href="#浏览器滚动条" class="headerlink" title="浏览器滚动条"></a>浏览器滚动条</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar <span class="token punctuation">{</span>
  width<span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  height<span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token punctuation">:</span> #F5F5F5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*定义滚动条轨道 内阴影+圆角*/</span>
<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar<span class="token operator">-</span>track <span class="token punctuation">{</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> inset <span class="token number">0</span> <span class="token number">0</span> 6px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  background<span class="token punctuation">:</span> #fff <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*定义滑块 内阴影+圆角*/</span>
<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar<span class="token operator">-</span>thumb <span class="token punctuation">{</span>
  border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> inset <span class="token number">0</span> <span class="token number">0</span> 6px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token punctuation">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>scrollbar<span class="token operator">-</span>thumb<span class="token punctuation">:</span>hover <span class="token punctuation">{</span>
  border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> inset <span class="token number">0</span> <span class="token number">0</span> 6px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token punctuation">:</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="JS方法"><a href="#JS方法" class="headerlink" title="JS方法"></a>JS方法</h3><h4 id="1-hasOwnProperty"><a href="#1-hasOwnProperty" class="headerlink" title="1. hasOwnProperty()"></a>1. hasOwnProperty()</h4><p>判断对象是否有某属性(原型链除外)</p>
<h4 id="2-JSON-parse-与JSON-stringify"><a href="#2-JSON-parse-与JSON-stringify" class="headerlink" title="2. JSON.parse()与JSON.stringify()"></a>2. JSON.parse()与JSON.stringify()</h4><p>JSON.parse() 字符串 -&gt; 对象<br>JSON.stringify() 对象 -&gt; 字符串</p>
<h4 id="3-first"><a href="#3-first" class="headerlink" title="3. first()"></a>3. first()</h4><h4 id="4-JSON字符串转换为JSON对象"><a href="#4-JSON字符串转换为JSON对象" class="headerlink" title="4. JSON字符串转换为JSON对象:"></a>4. JSON字符串转换为JSON对象:</h4><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">parseJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="5-JSON对象转换为JSON字符串："><a href="#5-JSON对象转换为JSON字符串：" class="headerlink" title="5. JSON对象转换为JSON字符串："></a>5. JSON对象转换为JSON字符串：</h4><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> str <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="6-替换"><a href="#6-替换" class="headerlink" title="6. 替换"></a>6. 替换</h4><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">let</span> s<span class="token operator">=</span><span class="token string">"aoa"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> replaced <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">)</span> 
<span class="token comment" spellcheck="true">// replaced === "boa"</span>
<span class="token comment" spellcheck="true">// s === "aoa" s值不会变</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>正则替换</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token string">"aoa"</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/b/g</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"bob"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="7-数组排序"><a href="#7-数组排序" class="headerlink" title="7. 数组排序"></a>7. 数组排序</h4><p>一般的思路都是[].sort()<br>然后结果会是这样子</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// [1,10,2,4]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>正确的写法应该是</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span>a<span class="token operator">-</span>b<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="8-深拷贝-vs-浅拷贝"><a href="#8-深拷贝-vs-浅拷贝" class="headerlink" title="8. 深拷贝 vs 浅拷贝"></a>8. 深拷贝 vs 浅拷贝</h4><h4 id="9-函数节流-vs-函数去抖"><a href="#9-函数节流-vs-函数去抖" class="headerlink" title="9. 函数节流 vs 函数去抖"></a>9. 函数节流 vs 函数去抖</h4><p><a href="http://www.cnblogs.com/fsjohnhuang/p/4147810.html" target="_blank" rel="external">节流与去抖</a><br><a href="http://www.codeceo.com/article/javascript-throttle-usage.html" target="_blank" rel="external">节流</a></p>
<h3 id="7-操作符：typeof与instanceof"><a href="#7-操作符：typeof与instanceof" class="headerlink" title="7 操作符：typeof与instanceof"></a>7 操作符：typeof与instanceof</h3><p> 7.1 typeof value (用于原始值）</p>
<table>
<thead>
<tr>
<th>操作数</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>undefined</td>
<td>undefined</td>
</tr>
<tr>
<td>null</td>
<td><strong>object</strong></td>
</tr>
<tr>
<td>Boolean</td>
<td>boolean</td>
</tr>
<tr>
<td>Number</td>
<td>number</td>
</tr>
<tr>
<td>String</td>
<td>string</td>
</tr>
<tr>
<td>Function</td>
<td><strong>function</strong></td>
</tr>
<tr>
<td>other</td>
<td>object</td>
</tr>
</tbody>
</table>
<p> 7.2 instanceof （用于对象） value instanceof constructor</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">></span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">></span> a <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> 
<span class="token boolean">true</span>

<span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>
<span class="token boolean">true</span>

<span class="token operator">></span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span>
<span class="token boolean">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="6-字符串处理"><a href="#6-字符串处理" class="headerlink" title="6 字符串处理"></a>6 字符串处理</h3><ol>
<li>splice </li>
<li>trim()</li>
<li>indexof()</li>
</ol>
<h3 id="5-特殊变量-arguments-像数组，却没有数组的方法）"><a href="#5-特殊变量-arguments-像数组，却没有数组的方法）" class="headerlink" title="5 特殊变量 arguments(像数组，却没有数组的方法）"></a>5 特殊变量 arguments(像数组，却没有数组的方法）</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> arguments<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">></span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token number">3</span>
<span class="token operator">></span> args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token string">'c'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li><strong>有length属性，可以通过方括号访问其元素</strong> ,没有任何数组方法</li>
<li>将arguments转换成数组</li>
</ol>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">toArray</span><span class="token punctuation">(</span>arrayLikeObject<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLikeObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="4-严格模式-不再自动创建全局变量"><a href="#4-严格模式-不再自动创建全局变量" class="headerlink" title="4 严格模式(不再自动创建全局变量)"></a>4 严格模式(不再自动创建全局变量)</h3><p> 4.1. 在严格模式下，不作为方法的函数中的this值是undefined</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f_strict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f_strict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token boolean">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> 4.2. 在非严格模式下，this的值被称作是全局对象（在浏览器中是window）</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token boolean">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5闭包-closures"><a href="#5闭包-closures" class="headerlink" title="5闭包 closures"></a>5闭包 closures</h3><p>闭包是指有权访问另一个函数作用域中变量的函数，创建闭包的最常见的方式就是在一个函数内创建另一个函数，通过另一个函数访问这个函数的局部变量,利用闭包可以突破作用链域，将函数内部的变量和方法传递到外部。</p>
<p>闭包的特性：</p>
<ol>
<li>函数内再嵌套函数</li>
<li>内部函数可以引用外层的参数和变量</li>
<li>参数和变量不会被垃圾回收机制回收</li>
</ol>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createFun</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        start<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">></span> <span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token function">createFun</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">4</span>
<span class="token operator">></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">5</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-IIFE-模拟块级作用域"><a href="#3-IIFE-模拟块级作用域" class="headerlink" title="3 IIFE 模拟块级作用域"></a>3 IIFE 模拟块级作用域</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//块开始</span>
    <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//块结束</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>只有函数表达式才能被立即调用</p>
<p> 3.1. 闭包实现变量共享</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// (*)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5 (不是 1)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5 (不是 3)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p> 3.2. <strong>使用IIFE</strong></p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> i2 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 复制当前的i</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2引用方法"><a href="#2引用方法" class="headerlink" title="2引用方法"></a>2引用方法</h3><p><strong>如果引用一个方法，它将失去和对象的连接</strong>，其中的this为undefined(strict模式下)</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> jane <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>
    describe<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">'Person named '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">></span> <span class="token keyword">var</span> func <span class="token operator">=</span> jane<span class="token punctuation">.</span>describe<span class="token punctuation">;</span>
<span class="token operator">></span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
TypeError<span class="token punctuation">:</span> Cannot read property <span class="token string">'name'</span> <span class="token keyword">of</span> undefined
<span class="token punctuation">(</span>如果不是严格模式下，虽然不会报错，但是<span class="token keyword">this</span><span class="token punctuation">.</span>name为空<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>解决办法是使用函数的内置的bind()方法，它创建一个新函数，其this值固定为给定的值</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">></span> <span class="token keyword">var</span> func2 <span class="token operator">=</span> jane<span class="token punctuation">.</span>describe<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>jane<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">></span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">'Person named jane'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="1方法内部的函数-important"><a href="#1方法内部的函数-important" class="headerlink" title="1方法内部的函数 (!important)"></a>1方法内部的函数 (!important)</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> jane <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>
    friends<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'Tarzan'</span><span class="token punctuation">,</span> <span class="token string">'Cheeta'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    logHiToFriends<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// 这里的“this”是undefined</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>调用 logHiToFriends 会产生错误</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">></span> jane<span class="token punctuation">.</span><span class="token function">logHiToFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
TypeError<span class="token punctuation">:</span> Cannot read property <span class="token string">'name'</span> <span class="token keyword">of</span> undefined
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>修复方法<br>1： 将this存储在不同的变量</p>
<pre class="line-numbers language-js"><code class="language-js">logHiToFriends<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2： forEach的第二个参数允许提供this值</p>
<pre class="line-numbers language-js"><code class="language-js">logHiToFriends<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>friend<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p>…未完待续</p>
</div>
    </div>
  </div>
</article>
			</div>
		</div>
	</body>
	<!-- <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script> -->
	<!-- <script src="/js/index.js"></script> -->
</html>